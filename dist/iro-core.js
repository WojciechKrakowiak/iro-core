function t(){return(t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",r="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",i=new RegExp("rgb"+r),a=new RegExp("rgba"+n),s=new RegExp("hsl"+r),h=new RegExp("hsla"+n),o=new RegExp("^(?:#?|0x?)([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$"),u=new RegExp("^(?:#?|0x?)([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$"),l=new RegExp("^(?:#?|0x?)([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$"),c=new RegExp("^(?:#?|0x?)([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$"),g=Math.log,d=Math.round,f=Math.floor;function v(t,e,r){return Math.min(Math.max(t,e),r)}function b(t,e){var r=t.indexOf("%")>-1,n=parseFloat(t);return r?e/100*n:n}function x(t){return parseInt(t,16)}function p(t){return t.toString(16).padStart(2,"0")}var w=function(){function e(e,r){this.$={h:0,s:0,v:0,a:1},e&&this.set(e),this.onChange=r,this.initialValue=t({},this.$)}var r,n=e.prototype;return n.set=function(t){if("string"==typeof t)/^(?:#?|0x?)[0-9a-fA-F]{3,8}$/.test(t)?this.hexString=t:/^rgba?/.test(t)?this.rgbString=t:/^hsla?/.test(t)&&(this.hslString=t);else{if("object"!=typeof t)throw new Error("Invalid color value");t instanceof e?this.hsv=t.hsv:"r"in t&&"g"in t&&"b"in t?this.rgb=t:"h"in t&&"s"in t&&"v"in t?this.hsv=t:"h"in t&&"s"in t&&"l"in t?this.hsl=t:"kelvin"in t&&(this.kelvin=t.kelvin)}},n.setChannel=function(e,r,n){var i;this[e]=t({},this[e],((i={})[r]=n,i))},n.reset=function(){this.hsva=this.initialValue},n.clone=function(){return new e(this)},n.unbind=function(){this.onChange=void 0},e.hsvToRgb=function(t){var e=t.h/60,r=t.s/100,n=t.v/100,i=f(e),a=e-i,s=n*(1-r),h=n*(1-a*r),o=n*(1-(1-a)*r),u=i%6,l=[o,n,n,h,s,s][u],c=[s,s,o,n,n,h][u];return{r:v(255*[n,h,s,s,o,n][u],0,255),g:v(255*l,0,255),b:v(255*c,0,255)}},e.rgbToHsv=function(t){var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.max(e,r,n),a=Math.min(e,r,n),s=i-a,h=0,o=i,u=0===i?0:s/i;switch(i){case a:h=0;break;case e:h=(r-n)/s+(r<n?6:0);break;case r:h=(n-e)/s+2;break;case n:h=(e-r)/s+4}return{h:60*h%360,s:v(100*u,0,100),v:v(100*o,0,100)}},e.hsvToHsl=function(t){var e=t.s/100,r=t.v/100,n=(2-e)*r,i=n<=1?n:2-n;return{h:t.h,s:v(100*(i<1e-9?0:e*r/i),0,100),l:v(50*n,0,100)}},e.hslToHsv=function(t){var e=2*t.l,r=t.s*(e<=100?e:200-e)/100;return{h:t.h,s:v(100*(e+r<1e-9?0:2*r/(e+r)),0,100),v:v((e+r)/2,0,100)}},e.kelvinToRgb=function(t){var e,r,n,i=t/100;return i<66?(e=255,r=-155.25485562709179-.44596950469579133*(r=i-2)+104.49216199393888*g(r),n=i<20?0:.8274096064007395*(n=i-10)-254.76935184120902+115.67994401066147*g(n)):(e=351.97690566805693+.114206453784165*(e=i-55)-40.25366309332127*g(e),r=325.4494125711974+.07943456536662342*(r=i-50)-28.0852963507957*g(r),n=255),{r:v(f(e),0,255),g:v(f(r),0,255),b:v(f(n),0,255)}},e.rgbToKelvin=function(t){for(var r,n=t.r,i=t.b,a=2e3,s=4e4;s-a>.4;){var h=e.kelvinToRgb(r=.5*(s+a));h.b/h.r>=i/n?s=r:a=r}return r},(r=[{key:"hsv",get:function(){var t=this.$;return{h:t.h,s:t.s,v:t.v}},set:function(e){var r=this.$;if(e=t({},r,e),this.onChange){var n={h:!1,v:!1,s:!1,a:!1};for(var i in r)n[i]=e[i]!=r[i];this.$=e,(n.h||n.s||n.v||n.a)&&this.onChange(this,n)}else this.$=e}},{key:"hsva",get:function(){return t({},this.$)},set:function(t){this.hsv=t}},{key:"hue",get:function(){return this.$.h},set:function(t){this.hsv={h:t}}},{key:"saturation",get:function(){return this.$.s},set:function(t){this.hsv={s:t}}},{key:"value",get:function(){return this.$.v},set:function(t){this.hsv={v:t}}},{key:"alpha",get:function(){return this.$.a},set:function(e){this.hsv=t({},this.hsv,{a:e})}},{key:"kelvin",get:function(){return e.rgbToKelvin(this.rgb)},set:function(t){this.rgb=e.kelvinToRgb(t)}},{key:"red",get:function(){return this.rgb.r},set:function(e){this.rgb=t({},this.rgb,{r:e})}},{key:"green",get:function(){return this.rgb.g},set:function(e){this.rgb=t({},this.rgb,{g:e})}},{key:"blue",get:function(){return this.rgb.b},set:function(e){this.rgb=t({},this.rgb,{b:e})}},{key:"rgb",get:function(){var t=e.hsvToRgb(this.$),r=t.g,n=t.b;return{r:d(t.r),g:d(r),b:d(n)}},set:function(r){this.hsv=t({},e.rgbToHsv(r),{a:void 0===r.a?1:r.a})}},{key:"rgba",get:function(){return t({},this.rgb,{a:this.alpha})},set:function(t){this.rgb=t}},{key:"hsl",get:function(){var t=e.hsvToHsl(this.$),r=t.s,n=t.l;return{h:d(t.h),s:d(r),l:d(n)}},set:function(r){this.hsv=t({},e.hslToHsv(r),{a:void 0===r.a?1:r.a})}},{key:"hsla",get:function(){return t({},this.hsl,{a:this.alpha})},set:function(t){this.hsl=t}},{key:"rgbString",get:function(){var t=this.rgb;return"rgb("+t.r+", "+t.g+", "+t.b+")"},set:function(t){var e,r,n,s,h=1;if((e=i.exec(t))?(r=b(e[1],255),n=b(e[2],255),s=b(e[3],255)):(e=a.exec(t))&&(r=b(e[1],255),n=b(e[2],255),s=b(e[3],255),h=b(e[4],1)),!e)throw new Error("Invalid rgb string");this.rgb={r:r,g:n,b:s,a:h}}},{key:"rgbaString",get:function(){var t=this.rgba;return"rgba("+t.r+", "+t.g+", "+t.b+", "+t.a+")"},set:function(t){this.rgbString=t}},{key:"hexString",get:function(){var t=this.rgb;return"#"+p(t.r)+p(t.g)+p(t.b)},set:function(t){var e,r,n,i,a=255;if((e=o.exec(t))?(r=17*x(e[1]),n=17*x(e[2]),i=17*x(e[3])):(e=u.exec(t))?(r=17*x(e[1]),n=17*x(e[2]),i=17*x(e[3]),a=17*x(e[4])):(e=l.exec(t))?(r=x(e[1]),n=x(e[2]),i=x(e[3])):(e=c.exec(t))&&(r=x(e[1]),n=x(e[2]),i=x(e[3]),a=x(e[4])),!e)throw new Error("Invalid hex string");this.rgb={r:r,g:n,b:i,a:a/255}}},{key:"hex8String",get:function(){var t=this.rgba;return"#"+p(t.r)+p(t.g)+p(t.b)+p(f(255*t.a))},set:function(t){this.hexString=t}},{key:"hslString",get:function(){var t=this.hsl;return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},set:function(t){var e,r,n,i,a=1;if((e=s.exec(t))?(r=b(e[1],360),n=b(e[2],100),i=b(e[3],100)):(e=h.exec(t))&&(r=b(e[1],360),n=b(e[2],100),i=b(e[3],100),a=b(e[4],1)),!e)throw new Error("Invalid hsl string");this.hsl={h:r,s:n,l:i,a:a}}},{key:"hslaString",get:function(){var t=this.hsla;return"hsl("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},set:function(t){this.hslString=t}}])&&function(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}(e.prototype,r),e}();function y(t){var e,r=t.width,n=t.sliderSize,i=t.handleRadius,a=t.padding,s="horizontal"===t.layoutDirection;return n=null!=(e=n)?e:2*a+2*i,"circle"===t.sliderShape?{handleStart:t.padding+t.handleRadius,handleRange:r-2*a-2*i,width:r,height:r,cx:r/2,cy:r/2,radius:r/2-t.borderWidth/2}:{handleStart:n/2,handleRange:r-n,radius:n/2,x:0,y:0,width:s?n:r,height:s?r:n}}function M(t,e){var r=e.hsva,n=e.rgb;switch(t.sliderType){case"red":return n.r/2.55;case"green":return n.g/2.55;case"blue":return n.b/2.55;case"alpha":return 100*r.a;case"kelvin":var i=t.minTemperature;return Math.max(0,Math.min((e.kelvin-i)/(t.maxTemperature-i)*100,100));case"hue":return r.h/=3.6;case"saturation":return r.s;case"value":default:return r.v}}var m,k=2*Math.PI,T=function(t,e){return Math.sqrt(t*t+e*e)};function S(t){return t.width/2-t.padding-t.handleRadius-t.borderWidth}function R(t){var e=t.width/2;return{width:t.width,radius:e-t.borderWidth,cx:e,cy:e}}function A(t,e,r){var n=t.wheelAngle,i=t.wheelDirection;return r&&"clockwise"===i?e=n+e:"clockwise"===i?e=360-n+e:r&&"anticlockwise"===i?e=n+180-e:"anticlockwise"===i&&(e=n-e),(e%360+360)%360}function W(t){var e=t.width/2,r=7*e/8,n=3*r/2,i=3*r/Math.sqrt(3);return{width:t.width,radius:e-t.borderWidth,trianglePoints:[{x:e,y:e/8},{x:e-i/2,y:e/8+n},{x:e+i/2,y:e/8+n}],cx:e,cy:e}}function P(t,e,r){var n=t.wheelAngle,i=t.wheelDirection;return((e=!r&&"clockwise"===i||r&&"anticlockwise"===i?(r?180:360)-(n-e):n+e)%360+360)%360}function D(t){var e=t.width/2;return{width:t.width,radius:e-t.borderWidth,ringWidth:t.ringWidth||2*(t.padding+t.handleRadius+t.borderWidth),cx:e,cy:e,borderWidth:t.borderWidth}}function H(t,e,r){var n=t.wheelAngle,i=t.wheelDirection;return((e=!r&&"clockwise"===i||r&&"anticlockwise"===i?(r?180:360)-(n-e):n+e)%360+360)%360}function F(t){var e=t.width/2,r=t.width*Math.sqrt(3)/2;return{width:t.width,height:r,radius:e-t.borderWidth,trianglePoints:[{x:t.width/2,y:0},{x:0,y:r},{x:t.width,y:r}],cx:e,cy:e,borderWidth:t.borderWidth}}function I(t,e,r){var n=t.wheelAngle,i=t.wheelDirection;return((e=!r&&"clockwise"===i||r&&"anticlockwise"===i?(r?180:360)-(n-e):n+e)%360+360)%360}function $(t){var e=t.width,r=t.boxHeight;return{width:e,height:null!=r?r:e,radius:t.padding+t.handleRadius}}exports.IroColor=w,exports.cssBorderStyles=function(t){return{boxSizing:"border-box",border:t.borderWidth+"px solid "+t.borderColor}},exports.cssGradient=function(t,e,r){return t+"-gradient("+e+", "+r.map(function(t){return t[1]+" "+t[0]+"%"}).join(",")+")"},exports.cssValue=function(t){return"string"==typeof t?t:t+"px"},exports.getBoxDimensions=$,exports.getBoxGradients=function(t,e){return[[[0,"#fff"],[100,"hsl("+e.hue+",100%,50%)"]],[[0,"rgba(0,0,0,0)"],[100,"#000"]]]},exports.getBoxHandlePosition=function(t,e){var r=$(t),n=r.radius,i=e.hsv,a=r.height-2*n;return{x:n+i.s/100*(r.width-2*n),y:n+(a-i.v/100*a)}},exports.getBoxStyles=function(t){var e;return(e={})["horizontal"===t.layoutDirection?"marginLeft":"marginTop"]=t.sliderMargin,e},exports.getBoxValueFromInput=function(t,e,r){var n=$(t),i=n.radius,a=(r-i)/(n.height-2*i)*100;return{s:Math.max(0,Math.min((e-i)/(n.width-2*i)*100,100)),v:Math.max(0,Math.min(100-a,100))}},exports.getCurrentSliderValue=M,exports.getHandleAtPoint=function(t,e,r,n){for(var i=0;i<n.length;i++){var a=n[i].x-e,s=n[i].y-r;if(Math.sqrt(a*a+s*s)<t.handleRadius)return i}return null},exports.getHueRingDimensions=D,exports.getHueRingHandlePosition=function(t,e){var r=e.hsv,n=D(t),i=n.radius,a=n.cx,s=n.cy,h=(180+H(t,r.h,!0))*(Math.PI/180),o="clockwise"===t.wheelDirection?-1:1,u=t.ringWidth?t.ringWidth:2*(t.padding+t.handleRadius+t.borderWidth);return{x:a+(i-u/2)*Math.cos(h)*o,y:s+(i-u/2)*Math.sin(h)*o}},exports.getHueRingValueFromInput=function(t,e,r){var n=D(t);e=n.cx-e,r=n.cy-r;var i=H(t,Math.atan2(-r,-e)*(180/Math.PI));return{h:Math.round(i)}},exports.getSliderDimensions=y,exports.getSliderGradient=function(t,e){var r=e.hsv,n=e.rgb;switch(t.sliderType){case"red":return[[0,"rgb(0,"+n.g+","+n.b+")"],[100,"rgb(255,"+n.g+","+n.b+")"]];case"green":return[[0,"rgb("+n.r+",0,"+n.b+")"],[100,"rgb("+n.r+",255,"+n.b+")"]];case"blue":return[[0,"rgb("+n.r+","+n.g+",0)"],[100,"rgb("+n.r+","+n.g+",255)"]];case"alpha":return[[0,"rgba("+n.r+","+n.g+","+n.b+",0)"],[100,"rgb("+n.r+","+n.g+","+n.b+")"]];case"kelvin":for(var i=[],a=t.minTemperature,s=t.maxTemperature,h=s-a,o=a,u=0;o<s;o+=h/8,u+=1){var l=w.kelvinToRgb(o);i.push([12.5*u,"rgb("+l.r+","+l.g+","+l.b+")"])}return i;case"hue":return[[0,"#f00"],[16.666,"#ff0"],[33.333,"#0f0"],[50,"#0ff"],[66.666,"#00f"],[83.333,"#f0f"],[100,"#f00"]];case"saturation":var c=w.hsvToHsl({h:r.h,s:0,v:r.v}),g=w.hsvToHsl({h:r.h,s:100,v:r.v});return[[0,"hsl("+c.h+","+c.s+"%,"+c.l+"%)"],[100,"hsl("+g.h+","+g.s+"%,"+g.l+"%)"]];case"value":default:var d=w.hsvToHsl({h:r.h,s:r.s,v:100});return[[0,"#000"],[100,"hsl("+d.h+","+d.s+"%,"+d.l+"%)"]]}},exports.getSliderGradientCoords=function(t){var e="horizontal"===t.layoutDirection;return{x1:"0%",y1:e?"100%":"0%",x2:e?"0%":"100%",y2:"0%"}},exports.getSliderHandlePosition=function(t,e){var r=y(t),n=r.handleRange,i=r.handleStart,a="horizontal"===t.layoutDirection,s=a?r.width/2:r.height/2,h=i+M(t,e)/100*n;return a&&(h=-1*h+n+2*i),{x:a?s:h,y:a?h:s}},exports.getSliderStyles=function(t){var e;return(e={})["horizontal"===t.layoutDirection?"marginLeft":"marginTop"]=t.sliderMargin,e},exports.getSliderValueFromInput=function(t,e,r){var n,i=y(t),a=i.handleRange,s=i.handleStart;n="horizontal"===t.layoutDirection?-1*r+a+s:e-s,n=Math.max(Math.min(n,a),0);var h=Math.round(100/a*n);switch(t.sliderType){case"kelvin":var o=t.minTemperature;return o+h/100*(t.maxTemperature-o);case"alpha":return h/100;case"hue":return 3.6*h;case"red":case"blue":case"green":return 2.55*h;default:return h}},exports.getSvgArcPath=function(t,e,r,n,i){var a=i-n<=180?0:1;return n*=Math.PI/180,i*=Math.PI/180,"M "+(t+r*Math.cos(i))+" "+(e+r*Math.sin(i))+" A "+r+" "+r+" 0 "+a+" 0 "+(t+r*Math.cos(n))+" "+(e+r*Math.sin(n))},exports.getTriangleDimensions=F,exports.getTriangleGradients=function(t,e){return[[[0,"#fff"],[100,"hsl("+e.hue+",100%,50%)"]],[[0,"rgba(0,0,0,0)"],[100,"#000"]]]},exports.getTriangleHandlePosition=function(t,e){var r=e.hsv,n=F(t),i=n.height,a=n.width;return I(t,r.h,!0),{x:a*(1+r.v*(r.s-200)/2e4),y:i*(1-r.s*r.v/1e4)}},exports.getTriangleValueFromInput=function(t,e,r){var n,i=F(t),a=i.width,s=i.height,h=i.cx,o=i.cy,u=t.rotation?t.rotation*Math.PI/180:0,l=e,c=r;if(t.rotation){var g=Math.sin(-1*u),d=Math.cos(-1*u),f=e-h-g*d*15,v=r-o-g*d*15;l=f*d-v*g,c=f*g+v*d,l+=h,c+=o}return n=50*(3-c/s-2*l/a),{s:Math.min(100,Math.max(0,Math.round(200*a*(s-c)/(3*s*a-2*s*l-a*c)))),v:Math.min(100,Math.max(0,Math.round(n)))}},exports.getTriangleWheelDimensions=W,exports.getTriangleWheelHandlePosition=function(t,e){var r=e.hsv,n=W(t),i=n.radius,a=n.cx,s=n.cy,h=(180+P(t,r.h,!0))*(Math.PI/180),o="clockwise"===t.wheelDirection?-1:1;return{x:a+(i-t.padding)*Math.cos(h)*o,y:s+(i-t.padding)*Math.sin(h)*o}},exports.getTriangleWheelValueFromInput=function(t,e,r){var n=W(t);e=n.cx-e,r=n.cy-r;var i=P(t,Math.atan2(-r,-e)*(180/Math.PI));return{h:Math.round(i)}},exports.getWheelDimensions=R,exports.getWheelHandlePosition=function(t,e){var r=e.hsv,n=R(t),i=n.cx,a=n.cy,s=S(t),h=(180+A(t,r.h,!0))*(k/360),o=r.s/100*s,u="clockwise"===t.wheelDirection?-1:1;return{x:i+o*Math.cos(h)*u,y:a+o*Math.sin(h)*u}},exports.getWheelValueFromInput=function(t,e,r){var n=R(t),i=n.cx,a=n.cy,s=S(t);e=i-e,r=a-r;var h=A(t,Math.atan2(-r,-e)*(360/k)),o=Math.min(T(e,r),s);return{h:Math.round(h),s:Math.round(100/s*o)}},exports.iroColorPickerOptionDefaults={width:300,height:300,color:"#fff",colors:[],padding:6,layoutDirection:"vertical",borderColor:"#fff",borderWidth:0,handleRadius:8,activeHandleRadius:null,handleSvg:null,handleProps:{x:0,y:0},wheelLightness:!0,wheelAngle:0,wheelDirection:"anticlockwise",sliderSize:null,sliderMargin:12,boxHeight:null},exports.isInputInsideWheel=function(t,e,r){var n=R(t),i=t.width/2;return T(n.cx-e,n.cy-r)<i},exports.resolveSvgUrl=function(t){m||(m=document.getElementsByTagName("base"));var e=window.navigator.userAgent,r=/^((?!chrome|android).)*safari/i.test(e),n=/iPhone|iPod|iPad/i.test(e),i=window.location;return(r||n)&&m.length>0?i.protocol+"//"+i.host+i.pathname+i.search+t:t},exports.sliderDefaultOptions={sliderShape:"bar",sliderType:"value",minTemperature:2200,maxTemperature:11e3},exports.translateHueRingAngle=H,exports.translateTriangleAngle=I,exports.translateTriangleWheelAngle=P,exports.translateWheelAngle=A;
//# sourceMappingURL=iro-core.js.map
